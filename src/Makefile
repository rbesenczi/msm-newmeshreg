include ${FSLCONFDIR}/default.mk

PROJNAME    = NewMeshReg
SOFILES     = libfsl-newmeshreg.so
LIBS        = -lfsl-newresampler -lfsl-newimage -lfsl-miscmaths -lfsl-utils
USRCXXFLAGS = -fopenmp -std=c++20
USRINCFLAGS += -DHAS_HOCR -DHAS_FPD
USRINCFLAGS += -I../include/

OBJS       = reg_tools.o featurespace.o similarities.o DiscreteCostFunction.o \
             DiscreteModel.o mesh_registration.o rigid_costfunction.o

all: ${SOFILES}

libfsl-newmeshreg.so: ${OBJS}
	${CXX} ${CXXFLAGS} -shared -o $@ $^ ${LDFLAGS}
